<div class="container">
  <p *ngIf="isLoading">Aan het laden</p>
  <div *ngIf="!isLoading">
    <div>
      <input type="text" [(ngModel)]="searchText" placeholder="Search">

      <table class="table">
        <tbody>
          <tr>
            <th>Inschrijvingsdatum</th>
            <th>Voornaam</th>
            <th>Achternaam</th>
            <th>Sport</th>
            <th>Status</th>
            <th>Commentaar</th>
            <!-- <th>???</th> -->
            <th></th>
          </tr>
          <tr *ngFor="let s of (subscriptions | async) ?? [] | filter: searchText">
            <td scope="row">{{s.contractDate | date: "dd-MM-yyyy"}}</td>
            <td>{{s.firstName}}</td>
            <td>{{s.lastName}}</td>
            <td>{{s.name }}</td>
            <td>{{s.status}}</td>
            <td>{{s.priceAgreements[s.priceAgreements.length - 1].comment}}</td>
            <!-- <td>
            <select>
              <ng-container *ngFor="let p of s.priceAgreements">
                <ng-container *ngIf="options | async as optionList">
                  <option [ngValue]="p.priceAgreementStatusId">
                      {{ p.priceAgreementStatusId | optionName: optionList }}
                  </option>
                </ng-container>
              </ng-container>
              </select>
          </td> -->
            <td>
              <button type="button" class="btn btn-primary" (click)="update(s.priceAgreementId)">
                Update
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

